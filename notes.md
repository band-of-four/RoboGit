# Введение

## О проекте

Предметом разработки является RoboGit -- платформа для хостинга робототехнических проектов, который основан на системе контроля версий Git с поддержкой markdown и RoboStore -- интернет-магазин с товарами для робототехники на домене .onion, поддерживающий оплату криптовалютой. 
Платформа позволяет пользователям формировать заказ на покупку необходимого для текущего проекта комплекта деталий и совершать 
покупку необходимого в один клик.   



## Цель создания

Основные цели создания: 

- Предоставляние пользователям возможности размещения робототехнических проектов и организации пользовательских проектов с помощью 
системы контроля версий Git. 

- Поддержание анонимности ползователей. 

- Организация интернет-магазина с товарами для робототехники.

- Предоставляние пользователям возможности упрощенно совершать покупку необходимых для проекта товаров.



## Целевая аудитория 

Плохие парни




# Прецеденты использования



## Описание прецедентов


### Регистрация и авторизация

#### Цель: 

Завести аккаунт в системе или авторизироваться

#### Сценарий:

1. Незарегистрированный/неавторизироанный пользователь имеет доступ ко всем страницам платформы, кроме своего профиля и создания нового репозитория.
2. При попытке перейти к себе в профиль (главную сстраницу RoboGit) или при попытке создания нового репозитория открывается форма авторизации с ссылкой на форму регистрации.
3. Пользователь автооризируется или переходит на страницу регистрации, заполняет поля и отправляет форму.
4. Система перенаправляет на страницу личного профиля пользователя.

#### Расширения:

1. Ошибка при авторизации (неверный логин/пароль) или ошибка при регистрации (адрес электронной почты уже используется, пароль слишком короткий) предотвращает переход на страницу личного профиля.

### Создание нового репозитория

#### Цель:

Создать новый репозиторий

#### Сценарий: 

1. Авторизированный пользователь переходит на страницу содания нового репозитория.
2. Открывается форма для ввода имени репозитория и его описания.
3. После успешной отправки формы появляется страница, в которой описывается как создать репозиторий с командной строки или импортировать код.  

#### Расширения: 

1. Ошибка при создании репозитория (репозиторий уже с таким именем уже существует в данном аккаунте) предотвращает создание репозитория.

### Работа с существующим репозиторием

#### Цель:

Держить актуальные версии проектов в RoboGite

#### Сценарий: 

1. Работа с существующим репозиторием ведется через командную строку пользоваткльсткого персонатьлного компьютера.

### Просмотр пользовательских репозиториев

#### Цель:

Просмотр пользователями репозиториев других пользователей, знакомство с кодом и описаниями.

#### Сценарий:

1. Пользователь открывает страницу репозитория.
2. Платформа предоставляет обзор всех файлов, находящихся в репозитории.
3. Файлы, написанные при помощи языка разметки Markdown и имеющие расширение `.md`, представляются на платформе в виде страницы-публикации.

#### Расширения: 

1. В файлах с расширением `.md` можно указывать товары из RoboStore для добавления из в корзины пользователей.

### Оценка пользовательских репозиториев

#### Цель: 

Поощрение интересных проектов, создание топа лучших проектов RoboGit.

#### Сценарий: 

1. Пользователь отмечает понравившиеся репозитории, нажимая кнопку stars на странице репозитория.
2. Система сохраняет информацию о количестве stars для текущего репозитория.

#### Расширения: 

1. Stars влияют на положении репозитория в топе.
2. В пользовательских профилях для каждого репозитория отображается количество stars.

### Формирование заказа на покупку из пользовательских проектов

#### Цель:

Добавление товара из проекта в корзину в один клик для дальнейшей покупки.

#### Сценарий: 

1. Пользователь открывает файл с расширением `.md`, в котором есть товар из RoboStore.
2. При нажатии на наименование товара, он отправляется в пользовательскую корзину.

### Просмотр профиля пользователей

#### Цель: 

Просмотр пользовательских профилей, знакомство с репозиториями пользователя.

#### Сценарий:

1. Пользователь открывает страницу пользовательского профиля.
2. Платформа предоставляет обзор всех репозиториев пользователя.

### Просмотр главной страницы магазина

#### Цель:

Ознакомить пользователей с асортиментом магазина.

###  Сценарий: 

1. Главная страница платформы содержит краткое описание товара.
2. Пользователь имеет возможность выбрать категорию товара, при выборе катогроии на странице остаются товары только выбранной категории.
3. Платформа позволяет отфильтровать товары. Фильтры для каждой категории товаров индивидуальны.

### Просмотр страницы товара

#### Цель: 

Позволяет пользователем подробнее ознакомиться с товаром.

#### Сценарий 

1. С краткого описания товара на главной стронице RoboStore пользователь может перейти к просмотру страницы товара, нажав на кнопку "Подробнее".
2. После нажатия кнопки пользователь переходит на страницу с подробным описанием товара (характеристики, описание).

### Выбор фильтров для товаров

#### Цель: 

Позвольить пользователям фильтровать товар по характеристикам, зависящим от категории товара.

#### Сценарий: 

1. После выбора категории товаров, пользователю становится доступен выбор категорий для фильтров товаров.
2. Пользователь может установить необходмые ему фильтры и отправить форму.
3. После отправки формы платформа оставит товары, удовлетворяющие фильтру.

### Добавление товаров в корзину

#### Цель: 

Формирование пользовательской корзины для дальнейшего оформления заказа.

#### Сценарий: 

1. С краткого описания товара на главной стронице RoboStore пользователь может перейти к просмотру страницы товара, нажав на кнопку "В корзину".
2. После этого платформа отправляет товар ы пользовательскую корзину.

### Просмотр корзины

####  Цель:

Ознакомить пользователя с корзиной для дальнейшего формирования заказа.

#### Сценарий: 

1. Пользователь открывает страницу с личной корзиной.
2. В один клик пользователь может изменить количество товаров в заказе, удалить товар из корзины или начать оформлять заказ.

#### Расширение:

1. Если корзина пуста, платформа предлагает перейти на главную страницу RoboStore.

### Формирование заказа

#### Цель: 

Сформировать заказ для покупки товара.

#### Сценарий: 

1. Пользователь нажимает кнопку формирования товара.
2. Открывается страница, которая предоставляет пользователю ссылку для связи с телеграм-ботом для дальнейшего формирования заказа.

_______________________________
# Добавлено
________________________________

### Просмотр лучших проектов

#### Цель:

Ознакомление с лучшими проектами RoboGit.

#### Сценарий: 

1. Система создает топ лучших репозиториев исходя из количества stars в пользовательских проектах.
2. Пользователь может посетить страницу топа лучших репозиториев.

### Добавление товара

#### Цель:

Поддержание полной базы товаров RoboStore.

#### Сценарий:

1. Сотрудник Robostore нажимает кнопку добавление товара в Robostore.
2. Сотрудник заполняет форму с необходимой информацей о товаре.
3. Сотрудник отправляет форму и публикует товар.

#### Расширения: 

1. Если сотрудник не заполняет обязательные поля, система предотвращает публикацию товара в Robostore. 

### Обновление информации о товаре

#### Цель: 

Поддержание актуальной информации о товарах.

1. Сотрудник Robostore нажимает кнопку изменения товара в Robostore.
2. Сотрудник получает форму с заполненой ранее информацией о товаре.
2. Сотрудник изменяет необходимые поля формы.
3. Сотрудник отправляет форму и система обновляет информацию о товаре.

#### Расширения: 

1. Если сотрудник оставляет пустыми обязательные поля, система предотвращает обновление информации о товаре в Robostore. 

### Удаление товара

#### Цель:

Удаление неактуальной информации.

#### Сценарий:

1. Сотрудник Robostore нажимает кнопку удаления товара в Robostore.
2. Система удаляет товар.

### Изменение прав пользователей

#### Цель: 

Поддержание актуальной базы сотрудников и администраторов.

#### Сценарий:

1. Администратор может поменять права пользователя на сотрудника, обычного пользователя или администратора.
2. Система дает необходимые права пользователю.

# Telegram-бот

Для сохранения анонимности пользователей оформление заказа происходит через телеграм-бота.

1. Telegram-бот отправляет инструкции и ссылку для оплаты заказа.
2. Telegram-бот позволяет определить время и место доставки заказа.



# Требования к аппаратно-программному обеспечению 

## Требования к серверному обеспечению

Система, которая обеспечивает выполнение программных продуктов сервера приложений и хранение данных платформы, должна отвечать следующим требованиям: 

1. Наличие операционной системы Linux.
2. Наличие сервера ба данных PostgreSQL версии 9.6 или выше.
3. Наличие сервера приложений GlassFish версии 4.1.2 или выше.
4. Наличие на сервере JDK 8.
5. 

## Требования к клиентскому обеспечению

Браузерный интерфейс разрабатывается с учетом следующих требований к программному обспечению на стороне пользователя:

1. Веб-браузер Tor версии 8.01 или выше.
2. Включенный интерпретатор сценариев JavaScript.
3. Отсутствие запрета веб-страницам платформы доступа к внешним ресурсам,
а именно изображениям, шрифтам, таблицам стилей CSS и сценариям JavaScript,
в том числе блокировщиками рекламы.

# Требования к архитектуре системы

## Уровень back-end

1. Уровень back-end основывается на Spring версии 5 или выше.
2. Взаимодействие между уровнями back-end и front-end организуется посредством REST API.
3. Для доступа к БД использeтся Spring Data.
4. Серверное приложение должно отправлять пользователям еженедельное новостноe
сообщение электронной почты, используя JavaMail API.
5. Серверное приложение должно логировать все вызовы методов на уровне бизнес-логики системы с использованием технологии Spring AOP и 
AspectJ.
6. Ролевое разграничение доступа к внутренним разделам системы организовано с помощью технологии Spring Security.
7. Доступ пользователей в систему осуществляется через систему "единого входа" (Single Sign On). В качестве провайдера SSO использована 
система ForgeRock OpenAM, развёрнутая на отдельном экземпляре (домене) сервера приложений.

## Уровень front-end

1. Уровень front-end должен быть построен на ReactJS + Redux (необходимо использовать ES6 и JSX) с использованием набора компонентов Belle.
2. Веб-интерфейс должен быть адаптирован для отображения в трех режимах:

- десктопном: ширина экрана больше 1105px,
- планшетном: больше 687px и меньше 1105px,
- мобильном: меньше 687px.

# Требования к надежности и безопасности системы

1. Серверное приложение должно содержать механизмы защиты от уязвимостей,
  входящих в список OWASP TOP-10.
2. Пароли пользователей должны содержать не менее восьми символов и
  храниться как криптографический хэш.
