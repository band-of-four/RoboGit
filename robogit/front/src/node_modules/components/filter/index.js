import React from 'react'
import {connect} from 'react-redux'
import {Link, withRouter} from 'react-router'
import {compose} from 'redux'
import classNames from 'classnames'

import {
    getActiveCategoryId
} from 'selectors'


function renderFields(fields) {
    return fields.map( (key, index) => (
        <div key={index}>
            <label className='topic-filter'>{key}:</label><br/>
            <label className='label-filter'>От:</label>
                <input id={"min-"+key} className='number-filter' type='number' step='0.5' min='0' placeholder='min'/>
            <label className='label-filter'>До:</label>
                <input className='number-filter' id={"max-"+key} type='number' step='0.5' min='0' placeholder='max'/>
        </div>
    ))
}


const Filter = ({categories, activeCategoryId}) => {
    var fields = ['price'];

    if (activeCategoryId === '1') {
        fields = [
            'price',
            'ram',
            'min_voltage',
            'max_voltage',
            'analog_inputs'
        ];
    }

    if (activeCategoryId === '2') {
        fields = [
            'price',
            'ram',
            'min_voltage',
            'max_voltage',
            'analog_inputs',
            'flashmemory'
        ];
    }

    if (activeCategoryId === '3') {
        fields = [
            'price',
            'min_voltage',
            'max_voltage'
        ];
    }

    if (activeCategoryId === '4' || activeCategoryId === '5' || activeCategoryId === '6') {
        fields = [
            'price'
        ];
    }

    return (
        <div className='well'>
            <h4>Фильтр</h4>
            <div className='list-group'>
                {renderFields(fields)}
            </div>
        </div>
    )
};

const mapStateToProps = (state, ownProps) => ({
    // categories: getFilter(state),
    activeCategoryId: getActiveCategoryId(ownProps)
});

export default compose(
    withRouter,
    connect(mapStateToProps, null)
)(Filter)
